"use strict";const e=require("./jsx-runtime-Blz-RjDE.cjs"),r=require("react"),d=require("./Button-CZyAJPvK.cjs"),l=require("./index-CqsCVLvJ.cjs"),j=async s=>{if(process.env.NODE_ENV==="development")try{return(await l.axios.get("http://localhost:3001/api/community/games/scoreboard",{params:{game:s.game}})).data}catch{}return l.axios.get(s.url,{params:{game:s.game}}).then(t=>t.data)},p={dedupingInterval:1e3*60*30,refreshInterval:0,revalidateOnFocus:!1,revalidateIfStale:!1,shouldRetryOnError:!1},h=s=>{const{data:t,error:i,isLoading:c,isValidating:n,mutate:o}=l.useSWR(s?.game?{url:"https://articles.media/api/community/games/scoreboard",game:s.game}:null,j,p);return{data:t,error:i,isLoading:c,isValidating:n,mutate:o}};function f({game:s,reloadScoreboard:t,setReloadScoreboard:i}){const[c,n]=r.useState(!1),[o,E]=r.useState(!1),{data:m,mutate:x}=h({game:s});return r.useEffect(()=>{},[]),r.useEffect(()=>{t&&(i(!1),x())},[t]),e.jsxRuntimeExports.jsx("div",{className:"scoreboard",children:e.jsxRuntimeExports.jsxs("div",{className:"card card-articles card-sm mb-3 mb-lg-0",children:[e.jsxRuntimeExports.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[e.jsxRuntimeExports.jsxs("span",{children:[s," Scoreboard"]}),e.jsxRuntimeExports.jsx(d.ArticlesButton,{onClick:()=>{x()},small:!0,children:e.jsxRuntimeExports.jsx("i",{className:"fad fa-redo me-0"})})]}),e.jsxRuntimeExports.jsxs("div",{className:"card-body p-0",children:[(m?.length||0)==0&&e.jsxRuntimeExports.jsx("div",{className:"small p-2",children:"No scores yet"}),m?.map((a,u)=>e.jsxRuntimeExports.jsxs("div",{className:"result d-flex flex-column justify-content-between border-bottom p-2",children:[e.jsxRuntimeExports.jsxs("div",{className:"d-flex justify-content-between lh-sm",children:[e.jsxRuntimeExports.jsxs("div",{className:"d-flex",children:[e.jsxRuntimeExports.jsx("h5",{className:"mb-0 me-3",children:u+1}),e.jsxRuntimeExports.jsx("div",{className:"lh-sm"})]}),e.jsxRuntimeExports.jsx("div",{children:e.jsxRuntimeExports.jsx("h5",{className:"mb-0",children:a.score||a.total})})]}),a.last_play&&a.public_last_play&&e.jsxRuntimeExports.jsxs("small",{className:"mt-1",style:{fontSize:"0.75rem"},children:["Played: ",format(new Date(a.last_play),"MM/d/yy hh:mmaa")]})]},a._id))]}),e.jsxRuntimeExports.jsxs("div",{className:"card-footer d-flex justify-content-between align-items-center",children:[e.jsxRuntimeExports.jsx("div",{className:"small",children:"Play to get on the board!"}),e.jsxRuntimeExports.jsx(d.ArticlesButton,{small:!0,onClick:()=>{n(!0)},children:e.jsxRuntimeExports.jsx("i",{className:"fad fa-cog me-0"})})]})]})})}module.exports=f;
