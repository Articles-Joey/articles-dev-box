"use strict";const e=require("./jsx-runtime-nZSsnGb7.cjs"),c=require("react"),l=require("./Modal-BNCxuVnD.cjs"),x=require("./Button-BVYvDTtH.cjs"),m=require("./index-CqsCVLvJ.cjs");function h({setChecked:s,checked:t,readOnly:a}){return e.jsxRuntimeExports.jsxs("label",{className:`articles-switch mb-0 ${t&&"checked"}`,children:[e.jsxRuntimeExports.jsx("input",{type:"checkbox",readOnly:!!a,checked:t,onChange:()=>{}}),e.jsxRuntimeExports.jsx("span",{onClick:n=>{if(s){s(!t);return}else{n.preventDefault();return}},className:"slider"})]})}const f=async s=>{if(process.env.NODE_ENV==="development")try{return(await m.axios.get("http://localhost:3001/api/community/games/scoreboard",{params:{game:s.game}})).data}catch{}return m.axios.get(s.url,{params:{game:s.game}}).then(t=>t.data)},E={dedupingInterval:1e3*60*30,refreshInterval:0,revalidateOnFocus:!1,revalidateIfStale:!1,shouldRetryOnError:!1},R=s=>{const{data:t,error:a,isLoading:n,isValidating:i,mutate:o}=m.useSWR(s?.game?{url:"https://articles.media/api/community/games/scoreboard",game:s.game}:null,f,E);return{data:t,error:a,isLoading:n,isValidating:i,mutate:o}};function b({game:s,reloadScoreboard:t,setReloadScoreboard:a}){const[n,i]=c.useState(!1),[o,j]=c.useState(!1),{data:d,mutate:u}=R({game:s});return c.useEffect(()=>{},[]),c.useEffect(()=>{t&&(a(!1),u())},[t]),e.jsxRuntimeExports.jsxs("div",{className:"scoreboard",children:[e.jsxRuntimeExports.jsxs(l.Modal,{show:n,size:"md",className:"articles-modal",centered:!0,onHide:()=>i(!1),children:[e.jsxRuntimeExports.jsx(l.Modal.Header,{children:e.jsxRuntimeExports.jsx(l.Modal.Title,{children:"Scoreboard Settings"})}),e.jsxRuntimeExports.jsx(l.Modal.Body,{children:e.jsxRuntimeExports.jsxs("div",{className:"d-flex justify-content-between align-items-center",onClick:()=>j(!o),children:[e.jsxRuntimeExports.jsxs("div",{children:[e.jsxRuntimeExports.jsx("i",{className:"fas fa-trophy-alt"}),e.jsxRuntimeExports.jsx("span",{children:"Join Scoreboard?"})]}),e.jsxRuntimeExports.jsx(h,{checked:o})]})}),e.jsxRuntimeExports.jsx(l.Modal.Footer,{className:"justify-content-between",children:e.jsxRuntimeExports.jsx(x.ArticlesButton,{variant:"articles",onClick:()=>{i(!1)},children:"Close"})})]}),e.jsxRuntimeExports.jsxs("div",{className:"card card-articles card-sm mb-3 mb-lg-0",children:[e.jsxRuntimeExports.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[e.jsxRuntimeExports.jsxs("span",{children:[s," Scoreboard"]}),e.jsxRuntimeExports.jsx(x.ArticlesButton,{onClick:()=>{u()},small:!0,children:e.jsxRuntimeExports.jsx("i",{className:"fad fa-redo me-0"})})]}),e.jsxRuntimeExports.jsxs("div",{className:"card-body p-0",children:[(d?.length||0)==0&&e.jsxRuntimeExports.jsx("div",{className:"small p-2",children:"No scores yet"}),d?.map((r,p)=>e.jsxRuntimeExports.jsxs("div",{className:"result d-flex flex-column justify-content-between border-bottom p-2",children:[e.jsxRuntimeExports.jsxs("div",{className:"d-flex justify-content-between lh-sm",children:[e.jsxRuntimeExports.jsxs("div",{className:"d-flex",children:[e.jsxRuntimeExports.jsx("h5",{className:"mb-0 me-3",children:p+1}),e.jsxRuntimeExports.jsx("div",{className:"lh-sm"})]}),e.jsxRuntimeExports.jsx("div",{children:e.jsxRuntimeExports.jsx("h5",{className:"mb-0",children:r.score||r.total})})]}),r.last_play&&r.public_last_play&&e.jsxRuntimeExports.jsxs("small",{className:"mt-1",style:{fontSize:"0.75rem"},children:["Played: ",format(new Date(r.last_play),"MM/d/yy hh:mmaa")]})]},r._id))]}),e.jsxRuntimeExports.jsxs("div",{className:"card-footer d-flex justify-content-between align-items-center",children:[e.jsxRuntimeExports.jsx("div",{className:"small",children:"Play to get on the board!"}),e.jsxRuntimeExports.jsx(x.ArticlesButton,{small:!0,onClick:()=>{i(!0)},children:e.jsxRuntimeExports.jsx("i",{className:"fad fa-cog me-0"})})]})]})]})}module.exports=b;
